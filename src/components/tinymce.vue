<template>
  <div>
    <textarea id="tinymce">
      <h2>一.毛泽东思想形成发展的历史条件</h2>
      19世纪中叶，马克思、恩格斯在深入考察和研究资本主义社会基本矛盾的基础上，提出唯物史观和剩余价值学说，为社会主义思想奠定了科学理论基础，创立了科学社会主义。19世纪末20世纪初，世界进人帝国主义和无产阶级革命时代，战争与革命成为时代主题。1917年俄国十月革命的胜利开辟了世界无产阶级社会主义革命的新时代，也给中国送来了马克思列宁主义，帮助中国的先进分子开始用无产阶级的世界观作为观察国家命运的工具，中国革命从此有了科学的指导思想。中国在革命取得胜利后，又经历了第二次世界大战后两大阵营的对立和斗争， 西方国家不仅对中国实行持续的封锁禁运，还极力推行和平演变战略。毛泽东思想正是在这样的时代条件下形成和发展起来的。<br><br>
      在这种时代，任何殖民地半殖民地国家，如果发生了反对帝国主义，即反对国际资产阶级、反对国际资本主义的革命，它就不再是属于旧的世界资产阶级民主主义革命的范畴，而属于新的范畴了； 它就不再是旧的资产阶级和资本主义的世界革命的一部分，而是新的世界革命的一部分，即无产阶级社会主义世界革命的一部分了。        -毛泽东<br><br>
      中国共产党成立之后，为中国人民谋幸福，为中华民族谋复兴，经历了千辛万苦的奋斗历程，有成功的宝贵经验，也有失败的惨痛教训。 这些经验教训促使以毛泽东同志为主要代表的中国共产党人更深人地思考中国革命和建设问题。毛泽东思想正是对这些经验教训进行深刻总结形成的理论成果。没有中国革命和建设的丰富实践，没有对中国革命和建设经验的深刻总结，就不可能有毛泽东思想。正是经过长期实践的反复比较，党和人民选择了毛泽东作为自己的领袖，选择了毛泽东思想作为自己的指导思想。中国共产党领导人民进行革命和建设的成功实践是毛泽东思想形成和发展的实践基础。<br><br>
      <h2>二、毛泽东思想形成发展的过程</h2>
      毛泽东思想是在我国新民主主义革命、社会主义革命和社会主义建设的实践过程中，在总结我国革命和建设正反两方面历史经验的基础上逐步形成和发展起来的。<br>
      <h3>1.毛泽东思想的形成</h3>
      大革命时期，毛泽东以马克思列宁主义为指导，深人实际调查研究在《中国社会各阶级的分析》《湖南农民运动考察报告》等著作中，分析了中国社会各阶级在革命中的地位和作用，明确指出无产阶级领导农民斗争的极端重要性，分析了中国农民斗争的特点，强调无产阶级领导农民斗争在推翻反动政权、建立人民革命政权中的重大作用，从而解决了无产阶级领导权的中心问题，即如何领导农民斗争的问题。这些关于新民主主义革命基本思想的提出，标志着毛泽东思想开始萌芽。 <br><br>
      土地革命战争时期，党从残酷的现实斗争中认识到，夺取中国革命胜利，就必须坚持以武装的革命反对武装的反革命。八七会议确定实行土地革命和武装起义的方针。由于敌我力量悬殊，中国共产党人不可能像俄国十月革命那样通过首先占领中心城市来取得革命在全国的胜利， 党迫切需要找到适合中国国情的革命道路。从进攻大城市转为向农村进军，是中国革命具有决定意义的新起点。<br> <br>
      以毛泽东同志为主要代表的中国共产党人，坚持马克思列宁主义必须与中国革命具体实际相结合的基本原则，在探索中国革命新道路的具体实践中，在同党内一度盛行的把马克思主义教条化、把共产国际决议和苏联经验神圣化错误倾向的斗争中，逐步认识和把握中国革命发展的客观规律，成功地把党的工作重点由城市转人农村，开辟了农村包围城市、武装夺取政权的革命道路。毛泽东在《中国的红色政权为什么能够存在？》《井冈山的斗争》《星星之火，可以燎原》《反对本本主义》等著作中，指明了中国革命的发展规律是:将党的工作重点从城市转人农村， 在农村开展游击战争，进行土地革命，建立红色政权，把落后的农村变为先进的革命根据地；依托这样的农村革命根据地去反对依靠城市进攻农村的强大敌人，进而以农村包围城市，以便在长期斗争中逐步锻炼、 积累、发展革命的力量，逐步削弱敌人的力量；直到敌我力量强弱发生转化，再攻占中心城市，夺取全国政权和全国革命的胜利。毛泽东提出并深人阐述的农村包围城市、武装夺取政权的思想，对红军和农村革命根据地的建立、巩固和发展发挥着根本指导作用，标志着毛泽东思想的初步形成。<br><br>
      <h3>2.毛泽东思想的成熟</h3>
      在党的历史上，遵义会议是一次具有伟大转折意义的重要会议。这次会议在红军第五次反“围剿”失败和长征初期严重受挫的历史关头召开，事实上确立了毛泽东同志在党中央和红军的领导地位，开始确立以毛泽东同志为主要代表的马克思主义正确路线在党中央的领导地位，开始形成以毛泽东同志为核心的党的第一代中央领导集体，开启了党独立自主解决中国革命实际问题的新阶段，在最危急关头挽救了党、挽救了红军、挽救了中国革命。 <br><br>
      遵义会议以后，毛泽东系统地总结了党领导中国革命特别是全民族抗日战争以来的历史经验，深入分析中国革命具体实际，在《实践论》 和《矛盾论》两篇著作中，运用马克思主义的认识论和辩证法，系统分析了党内“左”的和右的错误的思想根源。在《<《共产党人>发刊词》 《中国革命和中国共产党》《新民主主义论》《改造我们的学习》《论联合政府》等理论著作中，科学阐述了新民主主义革命的对象、动力、领导力量、性质和前途等基本问题，提出了新民主主义革命的总路线，并制定了相应的经济、政治、文化纲领，指明了新民主主义革命的具体目标。 毛泽东还详细论述了统一战线、武装斗争和党的建设的基本规律和内在联系，为新民主主义革命的胜利找到了正确方法。这一时期，正是由于“经过胜利、失败，再胜利、再失败，两次比较，我们才认识了中国这个客观世界”1,毛泽东在对革命实践经验和教训科学总结的基础上，系统阐述了新民主主义革命理论，实现了马克思主义与中国革命实践相结合的历史性飞跃，标志着毛泽东思想得到多方面展开而趋于成熟。 <br><br>
      党的六届七中全会通过的《关于若干历史问题的决议》充分肯定了确立毛泽东在全党领导地位的重大意义，指出:“全党已经空前一致地认识了毛泽东同志的路线的正确性，空前自觉地团结在毛泽东的旗帜下了。 以毛泽东同志为代表的马克思列宁主义的思想更普遍地更深人地掌握干部、党员和人民群众的结果，必将给党和中国革命带来伟大的进步和不可战胜的力量。<br><br>
    </textarea>
  </div>
</template>

<script>
import MindMap from 'simple-mind-map'
import MiniMap from 'simple-mind-map/src/plugins/MiniMap.js'
import Watermark from 'simple-mind-map/src/plugins/Watermark.js'
import KeyboardNavigation from 'simple-mind-map/src/plugins/KeyboardNavigation.js'
import ExportPDF from 'simple-mind-map/src/plugins/ExportPDF.js'
import ExportXMind from 'simple-mind-map/src/plugins/ExportXMind.js'
import Export from 'simple-mind-map/src/plugins/Export.js'
import Drag from 'simple-mind-map/src/plugins/Drag.js'
import Select from 'simple-mind-map/src/plugins/Select.js'
import RichText from 'simple-mind-map/src/plugins/RichText.js'
import AssociativeLine from 'simple-mind-map/src/plugins/AssociativeLine.js'
import TouchEvent from 'simple-mind-map/src/plugins/TouchEvent.js'
import NodeImgAdjust from 'simple-mind-map/src/plugins/NodeImgAdjust.js'
import SearchPlugin from 'simple-mind-map/src/plugins/Search.js'
import Painter from 'simple-mind-map/src/plugins/Painter.js'
import ScrollbarPlugin from 'simple-mind-map/src/plugins/Scrollbar.js'
import Formula from 'simple-mind-map/src/plugins/Formula.js'
import Cooperate from 'simple-mind-map/src/plugins/Cooperate.js'

// 注册插件
MindMap.usePlugin(MiniMap)
  .usePlugin(Watermark)
  .usePlugin(Drag)
  .usePlugin(KeyboardNavigation)
  .usePlugin(ExportPDF)
  .usePlugin(ExportXMind)
  .usePlugin(Export)
  .usePlugin(Select)
  .usePlugin(AssociativeLine)
  .usePlugin(NodeImgAdjust)
  .usePlugin(TouchEvent)
  .usePlugin(SearchPlugin)
  .usePlugin(Painter)
  .usePlugin(Formula)
export default {
  mounted() {
    
    tinymce.init({
      selector: '#tinymce',
      language: "zh_CN",
      placeholder:'请在此输入内容',
      plugins: 'abstract_plugin abstract_plugin mindmap_plugin save quickbars formatpainter paste preview searchreplace autolink directionality visualblocks visualchars fullscreen image link  code codesample table charmap kityformula-editor hr pagebreak nonbreaking anchor insertdatetime advlist lists wordcount textpattern help emoticons autosave',
      quickbars_insert_toolbar: 'quickimage quicktable',
      quickbars_selection_toolbar: 'bold italic | quicklink h2 h3 blockquote',
      toolbar: [
        'abstract abstract mindmap undo redo formatpainter forecolor backcolor bold italic underline strikethrough lineheight  blocks fontfamily fontsize customStyles',
        'save preview alignleft aligncenter alignright alignjustify link image outdent indent table emoticons code hr bullist numlist blockquote subscript superscript removeformat kityformula-editor ',
      ],
      block_formats:
        '标题1=h1;标题2=h2;标题3=h3;标题4=h4;标题5=h5;标题6=h6;段落=p;div', // formatselect 的配置
      formats:{
        h1: { block: 'h1', styles: { margin: '0px', padding: '0px', textAlign: 'justify' }},
        h2: { block: 'h2', styles: { margin: '0px', padding: '0px', textAlign: 'justify' }},
        h3: { block: 'h3', styles: { margin: '0px', padding: '0px', textAlign: 'justify' }},
        h4: { block: 'h4', styles: { margin: '0px', padding: '0px', textAlign: 'justify' }},
        h5: { block: 'h5', styles: { margin: '0px', padding: '0px', textAlign: 'justify' }},
        h6: { block: 'h6', styles: { margin: '0px', padding: '0px', textAlign: 'justify' }},
        p: { block: 'p', styles: { margin: '0px', padding: '0px', textAlign: 'justify' }},
      },
      resize: true,
      statusbar: false,
      style_formats: [
        {title: 'Bold text', inline: 'b'},
        {title: 'Red text', inline: 'span', styles: {color: '#ff0000'}},
        {title: 'Red header', block: 'h1', styles: {color: '#ff0000'}},
        {title: 'Example 1', inline: 'span', classes: 'example1'},
        {title: 'Example 2', inline: 'span', classes: 'example2'},
        {title: '首行缩进', block: 'p', styles: {'text-indent': '2em'}},
        {title: 'Table styles'},
        {title: 'Table row 1', selector: 'tr', classes: 'tablerow1'}
    ],
      style_formats_merge: true,
      style_formats_autohide: false,
      quickbars_selection_toolbar: 'custom_styles', 
      branding: false,
      toolbar_sticky: true,
      paste_as_text: true,
      promotion: false,
      forced_root_block: 'div',
      toolbar_drawer: 'floating',
      // images_upload_url: '/demo/upimg.php',
      // images_upload_base_path: '/demo',
      fontsize_formats:
        '12px 14px 15px 16px 18px 24px 36px 48px 56px 72px',
      font_family_formats:
        '微软雅黑=Microsoft YaHei,Helvetica Neue,PingFang SC,sans-serif;苹果苹方=PingFang SC,Microsoft YaHei,sans-serif;宋体=simsun,serif;仿宋体=FangSong,serif;黑体=SimHei,sans-serif;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Times New Roman=times new roman,times,serif',
      importcss_append: true,
      autosave_ask_before_unload: true,
      autosave_interval: '30s', // 自动存稿的时间间隔
      autosave_restore_when_empty: false,
      height: "90vh",
      suffix: '.min',
      setup: (editor) => {
        console.log('ID为: ' + editor.id + ' 的编辑器即将初始化.')
        editor.ui.registry.addMenuButton('customStyles', {
          text: '其他样式',
          fetch: function (callback) {
            const items = [
              {
                type: 'menuitem',
                text: '高亮',
                onAction: function () {
                  editor.selection.setContent(
                    '<div style="margin:10px -5px 10px -5px;padding:10px;border-radius:8px;background-color:#FFC5C5; line-height: 2;text-align:left; font-size: 16px; font-weight: 500">' +
                    editor.selection.getContent({ format: 'text' }) +
                    '</div>'
                  )
                },
              },
              {
                type: 'menuitem',
                text: '正文内容',
                onAction: function () {
                  editor.selection.setContent(
                    '<span style="margin:0; padding:0;color: #696B70; line-height: 1.5; font-size: 15px; font-weight: 400">' +
                    editor.selection.getContent({ format: 'text' }) +
                    '</span>'
                  )
                },
              },
              {
                type: 'menuitem',
                text: '强调',
                onAction: function () {
                  editor.selection.setContent(
                    '<div style="margin:0; padding:0;color: #FF9500; line-height: 1.5; font-size: 15px; font-weight: 400">' +
                    editor.selection.getContent({ format: 'text' }) +
                    '</div>'
                  )
                },
              },
              {
                type: 'menuitem',
                text: '超强调',
                onAction: function () {
                  editor.selection.setContent(
                    '<div style="margin:0; padding:0;color: #EB4B4B; line-height: 1.5; font-size: 15px; font-weight: 400">' +
                    editor.selection.getContent({ format: 'text' }) +
                    '</div>'
                  )
                },
              },
              {
                type: 'menuitem',
                text: '链接',
                onAction: function () {
                  editor.selection.setContent(
                    '<a style="color: #0075FF; line-height: 1.5; font-size: 15px; font-weight: 400; text-decoration: underline; cursor: pointer">' +
                    editor.selection.getContent({ format: 'text' }) +
                    '</a>'
                  )
                },
              },
            ]
            callback(items)
          },
        })
      },
      file_picker_callback: function (callback, value, meta) {
        //文件分类
        var filetype='.pdf, .txt, .zip, .rar, .7z, .doc, .docx, .xls, .xlsx, .ppt, .pptx, .mp3, .mp4';
        //后端接收上传文件的地址
        var upurl='/demo/upfile.php';
        //为不同插件指定文件类型及后端地址
        switch(meta.filetype){
            case 'image':
                filetype='.jpg, .jpeg, .png, .gif';
                upurl='upimg.php';
                break;
            case 'media':
                filetype='.mp3, .mp4';
                upurl='upfile.php';
                break;
            case 'file':
            default:
        }
        //模拟出一个input用于添加本地文件
        var input = document.createElement('input');
            input.setAttribute('type', 'file');
            input.setAttribute('accept', filetype);
        input.click();
        input.onchange = function() {
            var file = this.files[0];

            var xhr, formData;
            console.log(file.name);
            xhr = new XMLHttpRequest();
            xhr.withCredentials = false;
            xhr.open('POST', upurl);
            xhr.onload = function() {
                var json;
                if (xhr.status != 200) {
                    failure('HTTP Error: ' + xhr.status);
                    return;
                }
                json = JSON.parse(xhr.responseText);
                if (!json || typeof json.location != 'string') {
                    failure('Invalid JSON: ' + xhr.responseText);
                    return;
                }
                callback(json.location);
            };
            formData = new FormData();
            formData.append('file', file, file.name );
            xhr.send(formData);
        };
    },
    });
    
  },
  
  methods: {
       
}
}
</script>
